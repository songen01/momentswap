(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{8994:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(9613),i=n(5120),s=n(1643),a=n.n(s),o=n(1574),c=n(4275),u=n(8582),d=n(6471),l=n(959),m=n(5218),p=n(1380),f=n(88),x=n(1527);function h(){var e=(0,d.useRouter)(),t=(0,p.JG)().getNFTCollection,n=(0,p.sG)(),s=n.getAllDomainByCreator,h=n.getAvatar,w=(0,l.useState)(void 0),b=w[0],j=w[1],v=(0,l.useState)([]),g=v[0],y=v[1],k=e.query.id;return(0,l.useEffect)(function(){y((0,f.Xt)(k)||[])},[k]),(0,l.useEffect)(function(){(0,i.Z)(a().mark(function e(){var n,i,o,c,u,d,l,m;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return i=n.findIndex(function(e){return e[2].toString()===k}),o=n[i],e.next=9,s(o[0]);case 9:return c=e.sent,u=(0,r.Z)(c,1)[0],e.next=14,h(o[0]);case 14:return d=e.sent,l={address:o[0],id:o[2].toString(),timestamp:o[3].toNumber(),username:u,userImg:d,metadataURL:"https://".concat(o[1].split("/")[2],".ipfs.dweb.link/metadata.json")},e.next=18,fetch(l.metadataURL).then(function(e){return e.json()});case 18:m=e.sent,l.contentText=m.properties.content["text/markdown"],l.media="https://".concat(m.properties.media.cid,".ipfs.dweb.link"),l.mediaType=m.properties.media.type,j(l);case 23:case"end":return e.stop()}},e)}))()},[t,k]),(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(m.Ar,{children:(0,x.jsxs)("div",{className:"border-l border-r border-primary xl:min-w-[576px] flex-grow max-w-xl w-[100vw] h-[100%]",children:[(0,x.jsxs)("div",{className:"flex p-2 sticky top-0 z-50 bg-base-200 border-primary gap-2",children:[(0,x.jsx)("div",{onClick:function(){return e.back()},children:(0,x.jsx)(o.Y4O,{className:"rounded-full h-9 w-9 p-2 hover:bg-primary"})}),(0,x.jsx)("h2",{className:"text-lg sm:text-xl font-bold my-auto",children:"Moment"}),(0,x.jsx)("div",{className:"flex items-center justify-center px-0 ml-auto w-9 h-9",children:(0,x.jsx)(m.Tl,{})})]}),b&&(0,x.jsx)(m.W7,{moment:b}),g.length>0&&(0,x.jsx)(c.M,{children:null==g?void 0:g.map(function(e){return(0,x.jsx)(u.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:(0,x.jsx)(m.sv,{comment:e,originalMomentId:k},e.id)},e.id)})})]})})})}},5441:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/moment",function(){return n(8994)}])}},function(e){e.O(0,[669,546,218,774,888,179],function(){return e(e.s=5441)}),_N_E=e.O()}]);